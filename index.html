<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ESLM Dashboard</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <style>
    body { font-family: Arial; margin: 0; background: #f4f4f4; }
    header { background: black; color: yellow; padding: 10px 20px; display: flex; align-items: center; gap: 15px; }
    header img { height: 40px; }
    main { padding: 20px; }
    .player-card { background: white; border-radius: 10px; padding: 10px; margin-bottom: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
  </style>
</head>
<body>
  <header>
    <img src="https://i.postimg.cc/15j1R5RH/logo9.png" alt="Logo ESLM" />
    <h1>Tableau de bord ESLM</h1>
  </header>
  <main>
    <div id="root">Chargement‚Ä¶</div>
  </main>

  <script type="text/babel">
    const GOOGLE_SHEET_URL = "https://script.google.com/macros/s/AKfycbzUsOxxiz8ePK1kKOaR2rh3LxzIjdtRvIy1wwIe-NGnjsBp7m2HQxbedWUC8m8ss7pl0A/exec";

    function App() {
      const [players, setPlayers] = React.useState([]);

      React.useEffect(() => {
        fetch(GOOGLE_SHEET_URL)
          .then(res => res.json())
          .then(data => setPlayers(data))
          .catch(err => console.error("Erreur chargement", err));
      }, []);

      return (
        <div>
          <h2>üìã Joueurs enregistr√©s</h2>
          <div>
            {players.map(p => (
              <div key={p.id} className="player-card">
                <strong>{p.nom}</strong><br/>
                Poste : {p.preferredPosition}<br/>
                ‚≠ê {p.starRating} ‚Äì Physique : {p.physical} ‚Äì Pr√©sent : {String(p.present)}
              </div>
            ))}
          </div>
        </div>
      );
    }

    ReactDOM.render(<App />, document.getElementById("root"));
  </script>
</body>
</html>
